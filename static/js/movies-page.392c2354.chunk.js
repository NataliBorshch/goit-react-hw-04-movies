(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{109:function(t,e,n){"use strict";n.r(e);var c=n(66),r=n(61),a=n(11),o=n(12),i=n(14),s=n(13),u=n(0),l=n(3),h=(n(93),n(1)),p=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={query:""},t.handleInput=function(e){t.setState({query:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.query),t.reset()},t.reset=function(){t.setState({query:""})},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"box-form",children:Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("input",{type:"text",placeholder:"Search movies",value:this.state.query,onChange:this.handleInput}),Object(h.jsx)("button",{type:"submit",className:"btn-form",children:"Send movies"})]})})}}]),n}(u.Component),v=n(65),b=n(59),f=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={movies:[],searchMovie:null},t.getCollectionMovies=function(e){b.a.foundMovies(e).then((function(e){t.setState({movies:Object(r.a)(e.results)})}))},t.onSubmit=function(e){var n=t.props,r=n.history,a=n.location;r.push(Object(c.a)(Object(c.a)({},a),{},{search:"?query=".concat(e.trim())})),t.setState({searchMovie:e})},t}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this.state.searchMovie;n!==e.searchMovie&&this.getCollectionMovies(n)}},{key:"componentDidMount",value:function(){var t=this.props.location.search.slice(7);t&&this.getCollectionMovies(t)}},{key:"render",value:function(){var t=this.state.movies,e=this.props.history.location.search;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p,{onSubmit:this.onSubmit}),t&&Object(h.jsx)(l.b,{to:"/movies?".concat(e),render:function(e){return Object(h.jsx)(v.a,Object(c.a)(Object(c.a)({},e),{},{movies:t}))}})]})}}]),n}(u.Component);e.default=f},59:function(t,e,n){"use strict";var c=n(64),r=n.n(c),a="api_key=42c4fa9c05708253e8c2f9a05f447e85",o="https://api.themoviedb.org";e.a={getPopularMovies:function(){var t="".concat(o).concat("/3/trending/movie/week?").concat(a);return r.a.get(t).then((function(t){return t.data}))},foundMovies:function(t){var e="".concat(o).concat("/3/search/movie?").concat(a,"&language=en-US&query=").concat(t,"&page=1&include_adult=false");return r.a.get(e).then((function(t){return t.data}))},detailMovies:function(t){var e="/3/movie/".concat(t,"?"),n="".concat(o).concat(e).concat(a,"&language=en-US");return r.a.get(n).then((function(t){return t.data}))},getMoviesActors:function(t){var e="/3/movie/".concat(t,"/credits?"),n="".concat(o).concat(e).concat(a,"&language=en-US");return r.a.get(n).then((function(t){return t.data}))},getReviewMovies:function(t){var e="/3/movie/".concat(t,"/reviews?"),n="".concat(o).concat(e).concat(a,"&language=en-US&page=1");return r.a.get(n).then((function(t){return t.data}))}}},62:function(t,e,n){},63:function(t,e,n){},65:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0);var c=n(10),r=n(3),a=(n(62),n(1)),o=function(t){var e=t.item;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{className:"poster",src:e.poster_path?"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path):"https://ik.imagekit.io/s2fpg15d4rx/depositphotos_13867533-stock-photo-movie-clapper-board-3d-glasses_9Xn7kWOqZ.jpg",alt:e.title}),Object(a.jsxs)("div",{className:"text-card",children:[Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)("p",{children:e.release_date})]})]})},i=(n(63),Object(r.g)((function(t){var e=t.movies,n=t.location;return Object(a.jsx)("ul",{className:"movies-list",children:e.map((function(t){return Object(a.jsx)("li",{className:"movie-card",children:Object(a.jsx)(c.b,{exact:!0,to:{pathname:"/movies/".concat(t.id),state:{from:n}},children:Object(a.jsx)(o,{item:t})})},t.id)}))})})))},66:function(t,e,n){"use strict";function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,c)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return a}))},93:function(t,e,n){}}]);
//# sourceMappingURL=movies-page.392c2354.chunk.js.map